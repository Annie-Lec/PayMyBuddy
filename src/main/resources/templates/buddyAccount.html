<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	layout:decorate="Template1">


<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>home</title>
<link rel="stylesheet"
	href="/webjars/bootstrap/5.2.2/css/bootstrap.min.css">
<script type="text/javascript"
	src="/webjars/bootstrap/5.2.2/js/bootstrap.bundle.min.js"></script>


</head>

<body>
	<div layout:fragment="content1">

		<div
			class="container-fluid bg-light text-muted  p-3 row justify-content-between">
			<div class="col-4">
				<h1 class="fs-5 fw-light ">Profile / Manage your Bank details</h1>
			</div>
			<div class="col-4">
				<span sec:authentication="name"> </span>
			</div>

		</div>

		<div>
			<h2 class="text-danger">Manage your bank details !</h2>
		</div>


		<div class="container mt-5">

			<div class="card-header">Pay my Buddy</div>
			<div class="card-body">


				<form method="post" th:action="@{/savemybudyAccount}">


					<div>
						<label>ID </label> <input class="form-control" type="text"
							readonly="readonly" name="id" th:value="${buddyAccount.id}" />
					</div>

					<h3 class="p-2">Your bank details</h3>
					<div>
						<label>IBAN </label> <input class="form-control" type="text"
							name="iban" th:value="${buddyAccount.iban}" /> <span
							class="text-danger" th:errors="${buddyAccount.iban}"></span>
					</div>
					<div>
						<label>Bank Name </label> <input class="form-control" type="text"
							name="bankName" th:value="${buddyAccount.bankName}" /> <span
							class="text-danger" th:errors="${buddyAccount.bankName}"></span>
					</div>

					<button type="submit" class="btn btn-primary">Save your
						bank details</button>


					<div class="container mt-5">
						<label>Balance </label> <input class="form-control" type="text"
							readonly="readonly" name="balance"
							th:value="${buddyAccount.balance}" /> <span class="text-danger"
							th:errors="${buddyAccount.balance}"></span> <br>
						<h3 class=" p-2 fw-bolder font-monospace">Be carreful, To transfer money to your
							contact, you must have enough money in your buddy account</h3>

					</div>


				</form>

 				<div>
					<p class="text-dark">Recharger votre
						Buddy Account ou effectuez un virement sur votre compte bancaire</p>
				</div>
				<div class="row justify-content-center m-2">
					<div sec:authorize="hasAuthority('USER') " class="col-4">
						<a class="btn btn-danger"
							
							th:href="@{/chargebuddyAccount}"> Recharge your Buddy account
						</a>
					</div>

					<div  class="col-4">
						<a class="btn btn-danger"
							
							th:href="@{/chargebankAccount}"> Make a transfer to your bank
							account </a>
					</div>
				</div>

 


			</div>


		</div>
	</div>








</body>

</html>